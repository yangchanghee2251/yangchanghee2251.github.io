---
layout: single
title: "다부처 인수인계용 정리본 edge-analysis-module 테스트"
author_profile: true
categories:
  - uvi_study
toc: true
toc_sticky: true
sidebar:
    nav: "sidebar-category"
---

**edge-analysis-module Test**

## yolo 모델 받기 및 TensorRT 진행
edge module 같은 경우에는 CCTV 디바이스에 사용해야 하기 때문에 TensorRT로 경량화 작업을 해줘야함.  
[설치는 방법 URL](https://github.com/JinhaSong/edge-analysis-module/blob/master/docs/yolov7-trt.md)에서 yolov7설치 및 경량화 작업 코드드 확인해 봐야함.  
해당 코드는 보안상으로 올리진 않음.  
yolov7는 현재 깃허브에 올라와 있는데 yolov4는 찾아본 결과 없음. (yolov4는 송진하 박사님께 따로 얘기해볼 예정)

## edge-analysis-module Test
edge anlaysis module test를 하기 위해서는 `test/test_video_all_model.py`를 이용해서 돌려야 됨. 
> video_path => video 경로  
> resol => 360p or 1080p  
> params_path => yolov4 or yolov7으로 진행하면 됨  
> process_time => 각 이벤트들의 속도를 확인하는 작업임.  

이렇게 총 4개로 설정을 진행할 수 있는데 필수적으로 필요한건 `--video_path`임.
```
python3 test/test_video_all_model.py --video_path=/videos/mix_09_480p.mp4
```
위 코드를 실행시켜서 테스트를 진행하면 됨. 결과는 `results/video`에 저장이 됨.

## 다부처 결과 확인하는 URL
[다부처 결과 확인 서버](mlwyberns.sogang.ac.kr:8777)를 접속하면 다부처 결과를 확인할 수 있음.